<!DOCTYPE html>
<html lang="en-us">

<head>
  

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>

<link rel="shortcut icon" type="image/png" href="/favicon.ico"/>


<link rel='stylesheet' href='http://docs.joinmastodon.org/style.min.da6b681cd9608c99ab8f7bd6902f5610646e9db147dd3a59bde4b1d9194736cd.css'>


<script src='http://docs.joinmastodon.org/main.min.db37c27117ff8400e5e30549f6806d2bc825668b596d81316c6148417f59bc72.js' async></script>


  <title>Technical overview - Mastodon documentation</title>

  <meta property="og:type" content="article">
  <meta property="og:url" content="http://docs.joinmastodon.org/docs/dev/overview/">

  
    <meta name="description" content="A description of Mastodon&#39;s architecture.">
    <meta property="og:description" content="A description of Mastodon&#39;s architecture.">
    <meta name="twitter:description" content="A description of Mastodon&#39;s architecture.">
  

  <meta name="twitter:title" content="Technical overview">
  <meta name="twitter:site" content="@MastodonProject">

  <link rel="canonical" href="http://docs.joinmastodon.org/docs/dev/overview/">
</head>

<body>
  <div class="container sidebar-layout">
    <nav class="sidebar"><a class="brand" href="/">
  <img class="link-logo" src="/brand.svg" alt="Mastodon" />
</a>

<ul>
  
  
    <li>
      
        <a href="/" class="">What is Mastodon?</a>
      

      
    </li>
  
    <li>
      
        <span class="sub-title">Using Mastodon</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/user/signup/" class="">Signing up for an account</a>

              
            </li>
          
            <li>
              <a href="/docs/user/profile/" class="">Setting up your profile</a>

              
            </li>
          
            <li>
              <a href="/docs/user/posting/" class="">Posting toots</a>

              
            </li>
          
            <li>
              <a href="/docs/user/network/" class="">Using the network features</a>

              
            </li>
          
            <li>
              <a href="/docs/user/moderating/" class="">Dealing with unwanted content</a>

              
            </li>
          
            <li>
              <a href="/docs/user/discoverability/" class="">Promoting yourself and others</a>

              
            </li>
          
            <li>
              <a href="/docs/user/preferences/" class="">Set your preferences</a>

              
            </li>
          
            <li>
              <a href="/docs/user/contacts/" class="">More settings</a>

              
            </li>
          
            <li>
              <a href="/docs/user/external/" class="">Using Mastodon externally</a>

              
            </li>
          
            <li>
              <a href="/docs/user/moving/" class="">Moving or leaving accounts</a>

              
            </li>
          
            <li>
              <a href="/docs/user/run-your-own/" class="">Running your own server</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">Running Mastodon</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/admin/prerequisites/" class="">Preparing your machine</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/install/" class="">Installing from source</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/config/" class="">Configuring your environment</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/optional/" class="">Installing optional features</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/admin/optional/elasticsearch/" class="">Full-text search</a>
                    </li>
                  
                    <li>
                      <a href="/docs/admin/optional/tor/" class="">Hidden services</a>
                    </li>
                  
                    <li>
                      <a href="/docs/admin/optional/sso/" class="">Single Sign On</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/admin/setup/" class="">Setting up your new instance</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/tootctl/" class="">Using the admin CLI</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/upgrading/" class="">Upgrading to a new release</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/backups/" class="">Backing up your server</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/migrating/" class="">Migrating to a new machine</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/scaling/" class="">Scaling up your server</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/moderation/" class="">Moderation actions</a>

              
            </li>
          
            <li>
              <a href="/docs/admin/troubleshooting/" class="">Troubleshooting errors</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">Developing Mastodon apps</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/client/intro/" class="">Getting started with the API</a>

              
            </li>
          
            <li>
              <a href="/docs/client/public/" class="">Playing with public data</a>

              
            </li>
          
            <li>
              <a href="/docs/client/token/" class="">Obtaining client app access</a>

              
            </li>
          
            <li>
              <a href="/docs/client/authorized/" class="">Logging in with an account</a>

              
            </li>
          
            <li>
              <a href="/docs/client/guidelines/" class="">Guidelines and best practices</a>

              
            </li>
          
            <li>
              <a href="/docs/client/libraries/" class="">Libraries and implementations</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">Contributing to Mastodon</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/dev/overview/" class="active">Technical overview</a>

              
            </li>
          
            <li>
              <a href="/docs/dev/setup/" class="">Setting up a dev environment</a>

              
            </li>
          
            <li>
              <a href="/docs/dev/code/" class="">Code structure</a>

              
            </li>
          
            <li>
              <a href="/docs/dev/routes/" class="">Routes</a>

              
            </li>
          
            <li>
              <a href="/docs/dev/disclosure/" class="">Bug bounties and responsible disclosure</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">Spec compliance</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/spec/activitypub/" class="">ActivityPub</a>

              
            </li>
          
            <li>
              <a href="/docs/spec/webfinger/" class="">WebFinger</a>

              
            </li>
          
            <li>
              <a href="/docs/spec/security/" class="">Security</a>

              
            </li>
          
            <li>
              <a href="/docs/spec/microformats/" class="">Microformats</a>

              
            </li>
          
            <li>
              <a href="/docs/spec/oauth/" class="">OAuth</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">REST API</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/api/oauth-scopes/" class="">OAuth Scopes</a>

              
            </li>
          
            <li>
              <a href="/docs/api/rate-limits/" class="">Rate limits</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">API Methods</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/methods/apps/" class="">apps</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/methods/apps/oauth/" class="">oauth</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/methods/accounts/" class="">accounts</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/methods/accounts/bookmarks/" class="">bookmarks</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/favourites/" class="">favourites</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/mutes/" class="">mutes</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/blocks/" class="">blocks</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/domain_blocks/" class="">domain_blocks</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/filters/" class="">filters</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/reports/" class="">reports</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/follow_requests/" class="">follow_requests</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/endorsements/" class="">endorsements</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/featured_tags/" class="">featured_tags</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/preferences/" class="">preferences</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/accounts/suggestions/" class="">suggestions</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/methods/statuses/" class="">statuses</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/methods/statuses/media/" class="">media</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/statuses/polls/" class="">polls</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/statuses/scheduled_statuses/" class="">scheduled_statuses</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/methods/timelines/" class="">timelines</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/methods/timelines/conversations/" class="">conversations</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/timelines/lists/" class="">lists</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/timelines/markers/" class="">markers</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/timelines/streaming/" class="">streaming</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/methods/notifications/" class="">notifications</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/methods/notifications/push/" class="">push</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/methods/search/" class="">search</a>

              
            </li>
          
            <li>
              <a href="/docs/methods/instance/" class="">instance</a>

              
                <ul class="sub-menu">
                  
                    <li>
                      <a href="/docs/methods/instance/trends/" class="">trends</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/instance/directory/" class="">directory</a>
                    </li>
                  
                    <li>
                      <a href="/docs/methods/instance/custom_emojis/" class="">custom_emojis</a>
                    </li>
                  
                </ul>
              
            </li>
          
            <li>
              <a href="/docs/methods/admin/" class="">admin</a>

              
            </li>
          
            <li>
              <a href="/docs/methods/proofs/" class="">proofs</a>

              
            </li>
          
            <li>
              <a href="/docs/methods/oembed/" class="">oembed</a>

              
            </li>
          
        </ul>
      
    </li>
  
    <li>
      
        <span class="sub-title">API Entities</span>
      

      
        <ul class="sub-menu">
          
            <li>
              <a href="/docs/entities/account/" class="">Account</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/activity/" class="">Activity</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/admin-account/" class="">Admin::Account</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/admin-report/" class="">Admin::Report</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/application/" class="">Application</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/attachment/" class="">Attachment</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/card/" class="">Card</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/context/" class="">Context</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/conversation/" class="">Conversation</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/emoji/" class="">Emoji</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/error/" class="">Error</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/featuredtag/" class="">FeaturedTag</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/field/" class="">Field</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/filter/" class="">Filter</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/history/" class="">History</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/identityproof/" class="">IdentityProof</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/instance/" class="">Instance</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/list/" class="">List</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/marker/" class="">Marker</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/mention/" class="">Mention</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/notification/" class="">Notification</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/poll/" class="">Poll</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/preferences/" class="">Preferences</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/push-subscription/" class="">PushSubscription</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/relationship/" class="">Relationship</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/report/" class="">Report</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/results/" class="">Results</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/scheduledstatus/" class="">ScheduledStatus</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/source/" class="">Source</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/status/" class="">Status</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/tag/" class="">Tag</a>

              
            </li>
          
            <li>
              <a href="/docs/entities/token/" class="">Token</a>

              
            </li>
          
        </ul>
      
    </li>
  
</ul>
</nav>
    <main>
  <h1>Technical overview</h1>

  
    <p>A description of Mastodon&#39;s architecture.</p>
  

  <div class="e-content">
    <div class="hint hint-warning">
  <div class="hint-icon"><i class="fa fa-exclamation-circle"></i></div>

  This page is under construction.
</div>

<p>Mastodon is a Ruby on Rails application with a React.js front-end.  It follows standard practices of those frameworks, so if you are already familiar with Rails or React.js, you will not find any surprises here.</p>
<p>The best way of working with Mastodon in a development environment is installing all the dependencies on your system, rather than using Docker or Vagrant. You need Ruby, Node.js, PostgreSQL and Redis, which is a pretty standard set of dependencies for Rails applications.</p>
<h3 id="environments">Environments</h3>
<p>An “environment” is a set of configuration values intended for a specific use case. Some environments could be: development, in which you intend to change the code; test, in which you intend to run the automated test suite; staging, which is meant to preview the code to end-users; and production, which is intended to face end-users. Mastodon comes with configurations for development, test and production.</p>
<p>The default value of <code>RAILS_ENV</code> is <code>development</code>, so you don’t need to set anything extra to run Mastodon in development mode. In fact, all of Mastodon’s configuration has correct defaults for the development environment, so you do not need an <code>.env</code> file unless you need to customize something. Here are some of the different behaviours between the development environment and the production environment:</p>
<ul>
<li>Ruby code reloads itself when you change it, which means you don’t need to restart the Rails server process to see changes</li>
<li>All errors you encounter show stack traces in the browser, rather than being hidden behind a generic error page</li>
<li>Webpack runs continuously and re-compiles JS and CSS assets when you change any of the front-end files, and the pages automatically reload</li>
<li>Caching is disabled by default</li>
<li>An admin account with the e-mail <code>admin@localhost:3000</code> and password <code>mastodonadmin</code> is created automatically during <code>db:seed</code></li>
</ul>
<p>It should be noted that the Docker configuration distributed with Mastodon is optimized for the production environment, and so is an extremely bad fit for development. The Vagrant configuration, on the other hand, is meant specifically for development and not production use.</p>


    <p style="color: #687590;">
      Last updated May 11, 2020 · <a href='https://github.com/tootsuite/documentation/tree/master/content/en/docs/dev/overview.md' style="color: #687590;">Improve this page</a>

      
    </p>

  </div>
</main>
  </div>

  <footer class="footer container">
  <a href="https://designbyhumans.com/shop/mastodon" class="panel" style="background-image: url(/shirt.png)">
    <div class="overlay">
      <h5>Merch</h5>
      <p>T-shirts and stickers</p>
    </div>
  </a>

  <p class="legal legal--right">
    <a href='https://joinmastodon.org'>Join Mastodon</a> · <a href='https://blog.joinmastodon.org'>Blog</a> · <a href='https://mastodon.social/@Mastodon' target='_blank'><i class='fab fa-mastodon'></i></a> · <a href='https://twitter.com/MastodonProject' rel='nofollow' target='_blank'><i class='fab fa-twitter'></i></a>
  </p>

  <p class="legal"><a href='https://github.com/tootsuite/documentation/tree/master/content/en/docs/dev/overview.md'>View source</a> · <a href='https://creativecommons.org/licenses/by-sa/4.0/'>CC BY-SA 4.0</a> · <a href='https://joinmastodon.org/imprint'>Imprint</a></p>
</footer>

</body>

</html>
